@model List<Equipment>

@{
    ViewData["Title"] = "Shop";
}

<div class="shop-div">
    <div class="shop-box">
        <h3>Shop</h3>
        <hr />
        <div class="shop-slot-box">
            @foreach (Equipment equipment in Model)
            {
                <div id="@equipment.Id" class="shop-slot-with-price" style="cursor: pointer" onclick="BuyItem(@equipment.Id)">
                    <div class="shop-slot">
                        <img src="~/images/Equipment/@equipment.Image-trim.gif" />
                    </div>
                    <div class="shop-price">
                        <img src="~/images/Mysticoin.svg" />
                        <p>@equipment.Price</p>
                    </div>
                </div>
            }
        </div>
    </div>
</div>

@section Scripts{ 
    <script>
        function BuyItem(id) {
            $.post("@Url.Action("BuyItem", "Shop")", { equipmentId: id }, function (moneyNeeded) {
                if (moneyNeeded <= 0) {
                    $("#" + id).remove();
                }
                else {
                    alert("You need " + moneyNeeded + " more Mysticoins...\nComplete quests to earns coins!");
                }
            });
        }
    </script>
}